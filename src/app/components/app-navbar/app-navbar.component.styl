// Variables
$shadow-color = rgba(0, 0, 0, 0.1)
$primary-font-color = var(--p-primary-color)
$border-color = #e9ecef
$hover-bg = #f8f9fa
$unread-bg = #e6f7ff
$sidebar-compact-width= 64px
$transition-duration = 0.3s
:host ::ng-deep
  // Hide the default PrimeNG menubar button
  .p-menubar-button
    display none !important
/* Navbar container styles */
.app-navbar
  padding 0.5rem 1rem
  box-shadow 0 2px 10px $shadow-color
  background-color #ffffff
  transition margin-left $transition-duration ease-in-out
  z-index 999 // Lower than sidebar in mobile view
  
  &.fixed-navbar
    position fixed
    top 0
    left 0
    right 0
    z-index 1000

/* Brand/Logo section */
.navbar-start
  display: flex
  align-items: center

  .navbar-brand
    display: flex
    align-items: center
    text-decoration: none
    margin-left: 0.5rem

    .navbar-logo
      height: 32px
      margin-right: 0.75rem

    .navbar-title
      font-size: 0.8rem
      font-weight: 600
      color: $primary-font-color

  .sidebar-toggle
    margin-right: 0.5rem
    
    // Hide the sidebar toggle in desktop when sidebar is in compact mode
    @media screen and (min-width: 769px)
      &.sidebar-compact
        display: none

/* End section with language, notifications and user */
.flex
  display flex
.align-items-center
  align-items center
.navbar-end
  display: flex
  align-items: center
  gap 0.5rem
/* Language selector styling */
.language-selector
  min-width: 120px

.language-dropdown-container
  margin-right: 0.5rem

/* Notification styling */
.notification-container
  position: relative

  .notification-badge
    position: absolute
    top: -5px
    right: -5px

.notification-header
  border-bottom: 1px solid $border-color

.notification-list
  max-height: 300px
  overflow-y: auto

.notification-item
  padding: 0.75rem
  border-radius: 4px
  margin-bottom: 0.5rem
  transition: background-color 0.2s

  &:hover
    background-color: $hover-bg

  &.unread
    background-color: $unread-bg

/* User profile styling */
.user-profile
  &.p-button
    padding-block:0 !important;


  position: relative

  .user-button
    display: flex
    align-items: center

  .user-avatar
    width: 2rem
    height: 2rem
    background-color: var(--p-primary-color)
    color: white
    border-radius: 50%
    display: flex
    align-items: center
    justify-content: center
    margin-right: 0.5rem
    font-weight: 600

  .user-name
    margin: 0 0.5rem
    font-weight: 500

/* Mobile Menu styles */
.mobile-menu
  .mobile-menu-header
    padding: 1rem
    font-weight: 600
    font-size: 1.1rem
    border-bottom: 1px solid $border-color

  .mobile-menu-content
    padding: 0.5rem

  .mobile-menu-item
    padding: 0.75rem 1rem
    display: flex
    align-items: center
    border-radius: 4px
    cursor: pointer
    transition: background-color 0.2s

    &:hover
      background-color: $hover-bg

    .mobile-menu-icon
      margin-right: 0.75rem
      width: 1.5rem
      text-align: center

/* Responsive adjustments */
@media screen and (max-width: 768px)
  .user-name
    display: none

  .language-selector
    min-width: auto
    
  .navbar-title
    max-width: 120px
    overflow: hidden
    text-overflow: ellipsis
    white-space: nowrap
    


:host-context(.with-sidebar.sidebar-compact:not(.sidebar-mobile))
  .app-navbar
    margin-left: $sidebar-compact-width
    width: "calc(100% - %s)" % $sidebar-compact-width
    
    &.fixed-navbar
      left: $sidebar-compact-width
      width: "calc(100% - %s)" % $sidebar-compact-width
.app-navbar .p-menubar .p-component .p-menubar-mobile
    display: flex !important
    flex-direction: column !important
:host-context(.no-sidebar:not(.sidebar-mobile))
  .app-navbar
    margin-left: 0
    width: 100%
    
    &.fixed-navbar
      left: 0
      width: 100%
.p-menubar
    padding 0 !important


